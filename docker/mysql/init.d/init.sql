CREATE DATABASE JUDGELIGHT;

CREATE TABLE JUDGELIGHT.USER (
    STUDENT_ID VARCHAR(5) NOT NULL PRIMARY KEY,
    STUDENT_PASSWORD VARCHAR(10) NOT NULL
);

CREATE TABLE JUDGELIGHT.RESULT (
    STUDENT_ID VARCHAR(5) NOT NULL PRIMARY KEY,
    RESULT JSON NOT NULL,
    FOREIGN KEY (STUDENT_ID) REFERENCES JUDGELIGHT.USER(STUDENT_ID)
);

CREATE TABLE JUDGELIGHT.PROBLEM (
    PROBLEM_ID VARCHAR(5) NOT NULL PRIMARY KEY,
    PROBLEM_TITLE VARCHAR(100) NOT NULL,
    PROBLEM_SCORE INT NOT NULL,
    LIMIT_EXECUTE_TIME INT NOT NULL,
    LIMIT_EXECUTE_MEMORY INT NOT NULL,
    PROBLEM_DESCRIPTION VARCHAR(1000) NOT NULL,
    INPUT_DESCRIPTION VARCHAR(1000) NOT NULL,
    OUTPUT_DESCRIPTION VARCHAR(1000) NOT NULL,
    INITIAL_CODE VARCHAR(100000) NOT NULL,
    TEST_CASE JSON NOT NULL,
    SECRET_CASE JSON NOT NULL
);

CREATE TABLE JUDGELIGHT.SETTING (
    TITLE VARCHAR(100) NOT NULL PRIMARY KEY,
    START_TIME DATETIME NOT NULL,
    END_TIME DATETIME NOT NULL
)
